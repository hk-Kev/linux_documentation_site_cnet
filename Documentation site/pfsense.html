<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-fsense" />

    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>pfSense - 29019 Project</title>

    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <main class="wrap" role="main">
      <div class="card" aria-label="Main Navigation">
        <h2>Navigation</h2>

        <nav class="nav-menu">
          <ul>
            <li><a href="index.html">Home</a></li>

            <li><a href="windows.html">Windows Server</a></li>

            <li><a href="linux.html">Linux Server</a></li>

            <li><a href="pfsense.html" class="active">pfSense Firewall</a></li>

            <li><a href="vpn.html">VPN (OpenVPN)</a></li>

            <li><a href="security.html">Security Monitoring</a></li>

            <li><a href="backup.html">Backup & Restore</a></li>

            <li><a href="testing.html">Testing</a></li>
          </ul>
        </nav>
      </div>

      <section class="panel" aria-labelledby="page-title">
        <h1 id="page-title">pfSense Firewall Configuration</h1>

        <p>
          This page documents the setup and configuration of the pfSense
          firewall, covering interfaces, DHCP, firewall rules, and network
          monitoring as required by Tasks 1, 8, and 9.
        </p>

        <hr />

        <h2>1. Interface and Initial Setup</h2>

        <h3>Interface Assignments</h3>

        <p>
          This evidence shows the assignment of interfaces: WAN (Public/NAT),
          LAN1 (192.168.1.1/29), and LAN2 (192.168.2.1/29). Each segment is
          correctly isolated.
        </p>

        <img
          src="./images/pfsense_interfaces.png"
          alt="pfSense Interface Assignments showing WAN, LAN1, and LAN2 static IPs."
          class="evidence"
        />

        <h3>DHCP Configuration</h3>

        <p>
          pfSense is configured to provide DHCP service *only* to the LAN2
          segment, fulfilling the requirement for split DHCP responsibility
          (Linux Server handles LAN1).
        </p>

        <img
          src="./images/pfsense_dhcp_lan2.png"
          alt="pfSense DHCP Server configuration for the LAN2 interface."
          class="evidence"
        />

        <h3>Captive Portal Status</h3>
        <p>
          The pfSense captive portal feature was explicitly removed/disabled as
          required for the network topology.
        </p>
        <img
          src="./images/pfsense_captive_portal.png"
          alt="pfSense Captive Portal disabled status."
          class="evidence"
        />

        <hr />

        <h2>2. Firewall Rules and Scheduling</h2>

        <h3>Custom Schedule Evidence</h3>

        <p>
          The custom schedules for `KaliPentest_StudentID` and
          `LAN2_NoSocial_StudentID` define the exact time windows for enforcing
          access policies.
        </p>

        <img
          src="./images/pfsense_schedules.png"
          alt="pfSense Firewall Schedules: KaliPentest and LAN2_NoSocial schedules are created."
          class="evidence"
        />

        <h3>WAN Rules (Kali Access)</h3>

        <p>
          The WAN rules, including the schedule-enforced `KaliPentest_StudentID`
          rule, permit external Kali traffic into the internal networks only
          during the defined one-hour window.
        </p>

        <img
          src="./images/pfsense_firewall_rules_wan.png"
          alt="pfSense WAN Firewall Rules, showing the KaliPentest_StudentID rule."
          class="evidence"
        />

        <h3>LAN1 Rules (Inter-LAN and Web Access)</h3>

        <p>
          LAN1 rules include `ALLOW_StudentID_LAN1_TO_LAN2` for bi-directional
          access and general rules allowing access to hosted web pages (IIS and
          Documentation Server).
        </p>

        <img
          src="./images/pfsense_firewall_rules_lan1.png"
          alt="pfSense LAN1 Firewall Rules."
          class="evidence"
        />

        <h3>LAN2 Rules (Scheduled Block)</h3>

        <p>
          The scheduled `LAN2_NoSocial_StudentID` rule is shown enforcing the
          social media block policy during the mandated office hours.
        </p>

        <img
          src="./images/pfsense_firewall_rules_lan2.png"
          alt="pfSense LAN2 Firewall Rules, showing the scheduled social media block rule."
          class="evidence"
        />

        <h3>OpenVPN Rules</h3>

        <p>
          The essential firewall rule on the OpenVPN interface allowing
          connected VPN clients (IT OU members) to successfully access the LAN1
          segment and domain resources.
        </p>

        <img
          src="./images/pfsense_firewall_rules_openvpn.png"
          alt="pfSense OpenVPN Firewall Rules, allowing VPN clients access to LAN1."
          class="evidence"
        />

        <hr />

        <h2>3. Network Monitoring (NTOPng)</h2>

        <h3>LAN1 NTOPng Dashboard</h3>

        <p>
          NTOPng dashboard view of the LAN1 traffic, showing centralized
          monitoring for IT operations and demonstrating the ability to detect
          traffic anomalies.
        </p>

        <img
          src="./images/pfsense_ntopng_lan1.png"
          alt="NTOPng Dashboard monitoring the LAN1 interface."
          class="evidence"
        />

        <h3>LAN2 NTOPng Dashboard</h3>

        <p>
          NTOPng dashboard view of the LAN2 traffic, which is monitored
          separately for analysis and resource usage tracking.
        </p>

        <img
          src="./images/pfsense_ntopng_lan2.png"
          alt="NTOPng Dashboard monitoring the LAN2 interface."
          class="evidence"
        />
      </section>
    </main>
  </body>
</html>
